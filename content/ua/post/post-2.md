---
title: Стримування DDoS атак для краудфандингової ініціативи Canadian Bayraktar
url: '/ua/blog/DDoS-attack-mitigation-for-Canadian-Bayraktar-crowdfunding-initiative'
omit_header_text: false
featured_image: '/blog-images/post-2-banner-5.png'
summary_image: '/blog-images/post-2-short.jpeg'
date_prefix: 'Опубліковано #'
date: 2022-08-01
read_more_copy: 'Детальніше ->'

---

#### Опис

Щоб вистояти в героїчній битві, захищаючи цивілізований світ від російської агресії, Україні терміново і вкрай 
необхідно більше обладнання для захисту неба. Одним із найпопулярніших і найефективніших безпілотників є турецький 
середньовисотний довготривалий БПЛА Baykar Bayraktar TBx.

Усвідомлюючи глобальний масштаб російської загрози, наші друзі в Литві, Україні та Польщі зібрали мільйони доларів по 
всьому світу через масові збори коштів, щоб забезпечити та провести закупівлі знаменитого безпілотника Bayraktar.

[UHelpUkraine](https://uhelpukraine.org/) є зареєстрованою неприбутковою організацією (REG. #1000182616, Канада) 
завзятих українсько-канадських волонтерів. Ініціатива [#BuyaBayraktar](https://www.facebook.com/hashtag/BuyaBayraktar/) 
започаткована UHelpUkraine 20 липня 2022 року, привернула 
[чимало уваги](https://www.einnews.com/pr_news/582045288/canadian-non-profit-uhelpukraine-raising-funds-for-crucial-drone-needed-in-ongoing-fight-against-russia), 
як очікуваної, так і небажаної.


#### Виявлення сигнатури атак та вжиті заходи

Команда Rework-Space була залучена до проєкту Canadian Bayraktar з 23 липня 2022 року для вирішення проблем із 
підозрілою активністю трафіку, що спричинило низьку доступність сайту [uhelpukraine.org](https://uhelpukraine.org/) 
для користувачів.

Для початку, ми провели деякі перевірки та дослідження хостингу, що дозволило нам налаштувати правила 
AWS Web Application Firewall ([WAF](https://docs.aws.amazon.com/waf/latest/developerguide/waf-chapter.html)). 
У результаті ми захистили веб-сайт [uhelpukraine.org](https://uhelpukraine.org/) від поширених експлойтів, а також 
детально дослідили трафік. Менш ніж за 2 дні було заблоковано 140 000 000 нелегітимних запитів.

{{< figure src="/blog-images/post-2-image-1.png" alt="Візуалізація запитів WAF" title="Зображення 1. Візуалізація запитів WAF">}}

Використання CPU значно покращилося.

{{< figure src="/blog-images/post-2-image-2.png" alt="Візуалізація завантаження CPU інстанції EC2" title="Зображення 2. Візуалізація завантаження CPU інстанції EC2">}}

Однак ми виявили, що були короткі проміжки часу, коли правила WAF не були ефективними, а завантаження CPU залишалося 
високим (Зображення 2). Загалом AWS [пропонує](https://docs.aws.amazon.com/waf/latest/developerguide/ddos-responding.html#ddos-responding-manual)
два види відповіді на DDoS-атаки (7-рівнева модель OSI), а саме:
1. Використання власних засобів стримування;
2. Звернення до служби підтримки – якщо ви є клієнтом Shield Advanced.

Перший варіант неприйнятний, адже у даному випадку ми мали більше ніж 60 мільйонів заблокованих запитів із географічно 
розподіленим походженням. Оскільки плата стягується за кожен мільйон заблокованих запитів, щоденний бюджет нашого 
клієнта становив близько $50. Другий варіант хороший, але потребує місячної підписики та по вартості стартує від $3000. 
Очевидно, що це не буде найкращим рішенням для нашого клієнта, некомерційної організації з дуже обмеженим бюджетом.

Отже, ми провели дослідження проєктів і компаній, які підтримують ініціативи відкритого суспільства та допомагають 
людям почуватися безпечніше використовуючи інформаційні технології. В результаті ми обрали 
[Jigsaw](https://jigsaw.google.com/), підрозділ Google, який досліджує загрози відкритим інформаційним системам і 
створює технології, що дозволяють застосовувати масштабовані рішення.

Ви можете побачити результат на Зображенні 2, де представлено нове рішення, реалізоване 25 липня 2022 року. Варто 
зазначити, що для некомерційних організацій та інших відповідних клієнтів [Jigsaw](https://jigsaw.google.com/) 
пропонує кеш CDN (інфраструктура Google), [reCAPTCHA](https://www.google.com/recaptcha/about/) (потрібно ввімкнути 
явно) та візуалізацію всіх показників на одному дашборді цілком безкоштовно, 
[як базову опцію](https://www.pcmag.com/opinions/inside-project-shield-jigsaws-anti-ddos-machine).

{{< figure src="/blog-images/post-2-image-3.png" alt="Динаміка витрат uhelpukraine.org" title="Зображення З. Динаміка витрат uhelpukraine.org">}}

У підсумку, ми скоротили витрати на стороні AWS. Тепер команда [UHelpUkraine](https://uhelpukraine.org/) оплачує лише 
послуги хостингу AWS і зосереджується на волонтерській діяльності. Команда Rework-Space продовжує надавати послуги з 
кібербезпеки нашому новому партнеру  [UHelpUkraine](https://uhelpukraine.org/) і буде робити це до тих пір, поки наші 
люди не переможуть.

Усі матеріали публікуються за згодою команди [UHelpUkraine](https://uhelpukraine.org/).
